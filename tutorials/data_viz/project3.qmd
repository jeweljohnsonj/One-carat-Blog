---
title: "Chapter 3: Even more customizations in ggplot2"
description: "Learn how to customize the theme and cthe olour palette of a graph in ggplot2"
date: "12/09/2021"
format: html
execute: 
  cache: true
image: images/gg3.png
categories: [ggplot2, data visualization]
---

In this chapter, we will learn how to change the theme settings of a graph in `{ggplot2}` The theme of a graph consists of non-data components present in your graph. This includes the different labels of the graph, fonts used, colour of axes, the background of the graph etc. By changing the theme we would not be changing or transforming how the data will look in the graph. Instead, we would only change the visual appearances in the graph and by doing so we can make it more aesthetically pleasing. Furthermore, we will see a few popular packages featuring ready to use themes. We will also learn about colour palettes and will see different packages associated with them.

## Complete themes

The `{ggplot2}` package features ready to use themes called 'complete themes'. So before we begin customizing themes, let us plot a few graphs and see how these themes look like. For the plots, I have used the `BirdNest` dataset from the `{Stat2Data}` package in R. The `BirdNest` dataset contains nest and species characteristics of North American passerines. The data was collected by Amy R. Moore, as a student at Grinnell College in 1999.

-   Getting the `BirdNest` dataset and viewing how the dataset is structured.

```{r}
#| eval: false
install.packages("Stat2Data") # for installing Stat2Data package
install.packages("ggplot2") # for installing ggplot2 package

# load the packages
library(Stat2Data)
library(ggplot2)

data("BirdNest") # loading the BirdNest dataset
str(BirdNest) # for viewing structure of the dataset
```

So we have plenty of variables to play with. The tabs shown below are named according to the theme used in the plots.

::: panel-tabset
## theme_gray()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggplot2)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_gray()

```

## theme_bw()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggplot2)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw()
```

## theme_linedraw()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggplot2)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_linedraw()
```

## theme_light()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggplot2)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_light()
```

## theme_dark()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggplot2)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_dark()
```

## theme_minimal()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggplot2)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_minimal()
```

## theme_classic()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggplot2)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_classic()
```

## theme_void()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggplot2)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_void()
```
:::

## Themes from ggthemes package

If you want even more pre-built themes then you can try the `{ggthemes}` package. This package was developed by [Dr. Jeffrey B. Arnold](https://jrnold.github.io/ggthemes/).

```{r}
#| eval: false
# install and load ggthemes package
install.packages("ggthemes")
library(ggthemes)
```

The tabs shown below are named after the themes present in `{ggthemes}` package.

::: panel-tabset
## theme_base()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_base()
```

## theme_calc()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_calc()
```

## theme_clean()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_clean()
```

## theme_economist()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_economist()
```

## theme_excel()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_excel()
```

## theme_excel_new()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_excel_new()
```

## theme_few()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_few()
```

## theme_fivethirtyeight()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_fivethirtyeight()
```

## theme_foundation()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_foundation()
```

## theme_gdocs()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_gdocs()
```

## theme_hc()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_hc()
```

## theme_igray()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_igray()
```

## theme_map()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_map()
```

## theme_pander()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_pander()
```

## theme_par()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_par()
```

## theme_solarized()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_solarized()
```

## theme_solid()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_solid()
```

## theme_stata()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_stata()
```

## theme_tufte()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_tufte()
```

## theme_wsj()

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(ggthemes)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_wsj()
```
:::

## Changing colour palettes in ggplot2

Apart from ready to use themes, there are also ready to use colour palettes which we can use. A colour palette contains a set of pre-defined colours which will be applied to the different geometries present in a graph.

Choosing a good colour palette is important as it helps us to represent data in a better way and at the same time, it also makes the graph easier to read for people with colour blindness. Let us see a few popular colour palette packages used in R.

### viridis package

`{viridis}` package is a popularly used colour palette in R. It is aesthetically pleasing and well designed to improve readability for colour blind people. The `{virids}` package was developed by Bob Rudis, Noam Ross and Simon Garnier. There are eight different colour scales present in this package. The name of the tab denotes the colour scale present in this package.

```{r}
#| eval: false
library(viridis)
```

::: panel-tabset
## viridis

```{r}
#| code-fold: true
#| code-summary: "Show the code"
#| warnings: false
library(Stat2Data)
library(viridis)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "viridis")
```

## magma

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(viridis)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "magma")
```

## plasma

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(viridis)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "plasma")
```

## inferno

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(viridis)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "inferno")
```

## cividis

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(viridis)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "cividis")
```

## mako

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(viridis)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "mako")
```

## rocket

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(viridis)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "rocket")
```

## turbo

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(Stat2Data)
library(viridis)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_viridis(discrete = TRUE, option = "turbo")
```
:::

### wesanderson package

If you like your colours distinctive and narrative, just like how American film-maker [Mr. Wes Anderson](https://en.wikipedia.org/wiki/Wes_Anderson) would like it, then try the `{wesanderson}` package. Relive the *The Grand Budapest Hotel* moments through your graphs. The `{wesanderson}` package was developed by [Karthik Ram](https://github.com/karthik/wesanderson). There are a total of 19 colour palettes present in this package. We will see a subset of them. All colour scales in this package are available [here](https://github.com/karthik/wesanderson). The name of the tab denotes the colour scale used. The data used in this plot is the `penguin` dataset present in the package `{palmerpenguins}`.

```{r}
#| eval: false
#install and load wesanderson and palmerpenguins package
install.packages("wesanderson")
install.packages("palmerpenguins")
library(wesanderson)
library(palmerpenguins)
data("penguins") #load the penguins dataset
```

::: panel-tabset
## GrandBudapest1

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(wesanderson)
library(palmerpenguins)
data("penguins")

ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("GrandBudapest1", n = 3))
```

## BottleRocket2

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(wesanderson)
library(palmerpenguins)
data("penguins")

ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("BottleRocket2", n = 3))
```

## Rushmore1

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(wesanderson)
library(palmerpenguins)
data("penguins")

ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("Rushmore1", n = 3))
```

## Royal1

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(wesanderson)
library(palmerpenguins)
data("penguins")

ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("Royal1", n = 3))
```

## Zissou1

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(wesanderson)
library(palmerpenguins)
data("penguins")

ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("Zissou1", n = 3))
```

## Darjeeling2

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(wesanderson)
library(palmerpenguins)
data("penguins")

ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("Darjeeling2", n = 3))
```

## IsleofDogs1

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(wesanderson)
library(palmerpenguins)
data("penguins")

ggplot(data = penguins, aes(x = species, y = body_mass_g, fill = species)) + 
  labs(x= "Species", y= "Body mass (g)",
       fill= "Nest type", title= "Body mass in three diferent species of penguins",
       subtitle = "Penguins observed on islands near Palmer Station, Antarctica",
       caption= "DataSource: penguins dataset in palmerpenguins r-package") + geom_boxplot() + 
  theme_bw() + scale_fill_manual(values = wes_palette("IsleofDogs1", n = 3))
```
:::

### ggsci package

If you want high-quality colour palettes reflecting scientific journal styles then you can try the `{ggsci}` package. The `{ggsci}` package was developed by [Dr. Nan Xiao](https://nanx.me/) and [Dr. Miaozhu Li](http://miaozhu.li/). All colour scales in this package are available in package [webpage](https://cran.r-project.org/web/packages/ggsci/vignettes/ggsci.html). The name of the tab denotes the colour scale used.

```{r}
#| eval: false
# load ggsci package
install.packages("ggsci")
library(ggsci)
```

::: panel-tabset
## npg

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_npg()
```

## aaas

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_aaas()
```

## nejm

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_nejm()
```

## lancet

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_lancet()
```

## jama

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_jama()
```

## jco

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_jco()
```

## ucscgb

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_ucscgb()
```

## d3

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_d3(palette = "category10")
```

## locuszoom

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_locuszoom()
```

## igv

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_igv()
```

## uchicago

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_uchicago()
```

## startrek

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_startrek()
```

## tron

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_tron()
```

## futurama

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_futurama()
```

## rickandmorty

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_rickandmorty()
```

## simpsons

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggsci)
library(Stat2Data)
data("BirdNest")

ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package") +
  theme_bw() + scale_fill_simpsons()
```
:::

## Customizing the theme()

A ggplot theme is made up of different elements and it's functions. For e.g. `plot.title()` element allows you to modify the title of the graph using the element function `element_text()`. In this way, we can change the font size, font family, text colour etc. of the title of the plot. So let us begin customising our graph. We will be reusing the `BirdNest` dataset for the graphs.

### Customizing text elements using element_text()

All text elements can be customized using the element function `element_text()`. The syntax for `element_text()` is as follows

```{r}
#| eval: false
element_text(
  family = NULL, #insert family font name, e.g. "Times"
  face = NULL,  #font face ("plain", "italic", "bold", "bold.italic")
  colour = NULL, #either from colours() or hex code inside ""
  size = NULL, #text size (in pts)
  hjust = NULL, #horizontal justification values 0 or 1
  vjust = NULL, #vertical justification values 0 or 1
  angle = NULL, #angle in degrees
  lineheight = NULL, #distance between text and axis line
  color = NULL, #same function as colour
  margin = NULL,
  debug = NULL,
  inherit.blank = FALSE
)
```

We can modify each of these parameters to improve our plots as shown below in 'before' and 'after' the changes are made.

::: panel-tabset
## Before

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggplot2)
library(Stat2Data)
data("BirdNest")

p <- ggplot(BirdNest, aes(No.eggs, Totcare, colour = Nesttype)) + geom_point() +
    labs(x= "Number of eggs", y= "Total care time (days)",
       title= "Relationship between number of eggs and total care time",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package",
       colour = "Nest type")
p
```

## After

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggplot2)
library(Stat2Data)
data("BirdNest")

p <- ggplot(BirdNest, aes(No.eggs, Totcare, colour = Nesttype)) + geom_point() +
    labs(x= "Number of eggs", y= "Total care time (days)",
       title= "Relationship between number of eggs and total care time",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package",
       colour = "Nest type")

#customizing text elements
p + theme(plot.title=element_text(size = 15,family = "Comic Sans MS",colour = "darkred",face = "bold"),
          plot.subtitle=element_text(size = 10,family = "Courier",colour= "blue",face= "italic"),
          plot.caption = element_text(size = 8,family = "Times",colour= "green",face="bold.italic", hjust=0),
          axis.text.x= element_text(size = 6,colour = "magenta", angle=20),
          axis.text.y= element_text(size = 6,colour = "darkblue", angle=30),
          axis.title.x = element_text(colour = "orchid"),
          axis.title.y = element_text(colour = "sienna"),
          legend.text = element_text(size = 8,colour = "darkgreen"),
          legend.title = element_text(size = 10,colour = "lightblue",face = "bold"))
```
:::

### Customizing line elements using element_line()

Line elements include axes, grid lines, borders of the graph etc. All line elements can be customized using the element function `element_line()`. The syntax for `element_line()` is as follows

```{r}
#| eval: false
element_line(
  colour = NULL, #either from colours() or hex code inside ""
  size = NULL, #line size in mm units
  linetype = NULL, # eg: dashed, dotted etc 
  lineend = NULL, #line end style (round, butt, square)
  color = NULL, #same function as colour
  arrow = NULL, #arrow specification
  inherit.blank = FALSE
)
```

::: panel-tabset
## Before

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggplot2)
library(Stat2Data)
data("BirdNest")

p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")
p
```

## After

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggplot2)
library(Stat2Data)
data("BirdNest")

p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")

#customizing line elements
p + theme(panel.grid.major = element_line(colour = "red", size = 0.8, linetype = "dashed"),
          panel.grid.minor = element_line(colour = "blue",linetype = "twodash"),
          axis.line.x = element_line(colour = "darkred", arrow = arrow()),
          axis.line.y = element_line(colour = "darkblue"),
          axis.ticks = element_line(size = 5, colour = "yellow"),
          axis.ticks.length.y=unit(0.5, "cm")) #ticks positioned 0.5cm away from y axis
```
:::

### Customizing background elements using element_rect()

Background elements include plot, panel and legend backgrounds and their margins. All background elements can be customized using the element function `element_rect()`. The syntax for `element_rect()` is as follows

```{r}
#| eval: false
element_rect(
  fill = NULL, #fills colour
  colour = NULL, #colours the border
  size = NULL, #changes border size in mm units
  linetype = NULL, #changes border linetype
  color = NULL,
  inherit.blank = FALSE
)
```

::: panel-tabset
## Before

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggplot2)
library(Stat2Data)
data("BirdNest")

p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")
p
```

## After

```{r}
#| code-fold: true
#| code-summary: "Show the code"
library(ggplot2)
library(Stat2Data)
data("BirdNest")

p <- ggplot(BirdNest, aes(Nesttype, Length, fill = Nesttype)) + geom_boxplot() + 
  labs(x= "Type of nest", y= "Mean body length for the species (in cm)",
       fill= "Nest type", title= "Relationship between body length and nest types",
       subtitle = "Data shown for 84 different species of North American passerines",
       caption= "DataSource: BridNest dataset in Stat2Data r-package")

#customizing line elements
p + theme(plot.background = element_rect(size = 5, colour = "red", fill = "lightblue"),
          panel.background = element_rect(size = 3, colour = "blue", fill = "lightyellow", linetype = "dotted"),
          legend.key = element_rect(fill = "lightgreen"),
          legend.background = element_rect(fill = "grey"),
          legend.key.size = unit(0.75, "cm"))
```
:::

## Summary

I hope you are now able to customize the theme of a graph with ease. In this chapter, we learned about different theme elements and how to customize them. We also saw different packages in R which featured ready to use themes. We learned about colour palettes and got introduced to the popular colour packages available R. With that being said, always make sure that your graphs are colour-blind friendly.

## References

1.  H. Wickham. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York, 2016. Read more about ggplot2 [here](https://ggplot2.tidyverse.org/). You can also look at the [cheat sheet](https://github.com/rstudio/cheatsheets/blob/master/data-visualization-2.1.pdf) for all the syntax used in `ggplot2`. Also check this [out](https://github.com/erikgahner/awesome-ggplot2).

2.  Ann Cannon, George Cobb, Bradley Hartlaub, Julie Legler, Robin Lock, Thomas Moore, Allan Rossman and Jeffrey Witmer (2019). Stat2Data: Datasets for Stat2. R package version 2.0.0. https://CRAN.R-project.org/package=Stat2Data

3.  Horst AM, Hill AP, Gorman KB (2020). palmerpenguins: Palmer Archipelago (Antarctica) penguin data. R package version 0.1.0. https://allisonhorst.github.io/palmerpenguins/

4.  Jeffrey B. Arnold (2021). ggthemes: Extra Themes, Scales and Geoms for 'ggplot2'. R package version 4.2.4. https://CRAN.R-project.org/package=ggthemes

5.  Simon Garnier, Noam Ross, Robert Rudis, Antônio P. Camargo, Marco Sciaini, and Cédric Scherer (2021). Rvision - Colorblind-Friendly Color Maps for R. R package version 0.6.2. You can read more [here](https://cran.r-project.org/web/packages/viridis/vignettes/intro-to-viridis.html).

6.  Karthik Ram and Hadley Wickham (2018). wesanderson: A Wes Anderson Palette Generator. R package version 0.3.6. https://CRAN.R-project.org/package=wesanderson

7.  Nan Xiao (2018). ggsci: Scientific Journal and Sci-Fi Themed Color Palettes for 'ggplot2'. R package version 2.9. https://CRAN.R-project.org/package=ggsci

#### Last updated on {.unnumbered .unlisted}

```{r}
#| echo: false
Sys.time()
```

<a hidden href="https://info.flagcounter.com/ynrK"><img src="https://s11.flagcounter.com/count2/ynrK/bg_000000/txt_FFFFFF/border_F0F0F0/columns_5/maxflags_25/viewers_0/labels_1/pageviews_1/flags_0/percent_0/" alt="Flag Counter" border="0"/></a>
